(function(t){function e(e){for(var i,n,o=e[0],l=e[1],c=e[2],f=0,u=[];f<o.length;f++)n=o[f],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],i=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(i=!1)}i&&(s.splice(e--,1),t=n(n.s=r[0]))}return t}var i={},a={app:0},s=[];function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("h1",[t._v("Телефонный справочник")]),t.loading?t._e():r("Filters"),t.loading?r("Loading"):r("Table")],1)},s=[],n=(r("d3b7"),r("96cf"),r("bc3a")),o=r.n(n),l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"--n":"5"},attrs:{id:"loading"}},[r("div",{staticClass:"dot",staticStyle:{"--i":"0"}}),r("div",{staticClass:"dot",staticStyle:{"--i":"1"}}),r("div",{staticClass:"dot",staticStyle:{"--i":"2"}}),r("div",{staticClass:"dot",staticStyle:{"--i":"3"}}),r("div",{staticClass:"dot",staticStyle:{"--i":"4"}})])}],d=r("2877"),f={},u=Object(d["a"])(f,l,c,!1,null,null,null),p=u.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"filters"}},[r("div",{staticClass:"textfiled"},[r("div",{staticClass:"textfiled__label"},[t._v("Поиск по ФИО")]),r("div",{staticClass:"textfiled__input"},[r("input",{attrs:{type:"text",placeholder:"Введите ФИО"},on:{keyup:function(e){return t.existsProfile(e)},keydown:function(e){return t.preventCyr(e)}}})])]),r("div",{staticClass:"textfiled"},[r("div",{staticClass:"textfiled__label"},[t._v("Фильтр по году рождения")]),r("div",{staticClass:"textfiled__input"},[r("select",{on:{change:function(e){return t.changeYear(e)}}},[r("option",{attrs:{value:"none"}},[t._v("Выберите год рождения")]),t._l(t.formationDate,(function(e,i){return r("option",{key:i,domProps:{value:e}},[t._v(t._s(e))])}))],2)])])])},v=[],m=(r("4de4"),r("4160"),r("c975"),r("4e82"),r("0d03"),r("b0c0"),r("159b"),{name:"cFilters",components:{},data:function(){return{formationDate:[]}},props:{},computed:{profile:function(){return this.$store.getters.getProfiles},readyProfiles:function(){return this.$store.getters.getReadyProfiles}},watch:{profile:function(){this.formationDate=this.formationDateForSelect(this.profile)}},created:function(){},mounted:function(){},methods:{preventCyr:function(t){/[\\[\]^_]/.test(t.key)&&t.preventDefault(),/[A-z]/.test(t.key)||t.preventDefault()},existsProfile:function(t){var e=t.target.value.toUpperCase();""!=e?this.$store.dispatch("ReadyProfiles",this.profile.filter((function(t){var r=t.name.first.toUpperCase()+" "+t.name.last.toUpperCase();return r.indexOf(e)+1}))):this.$store.dispatch("ReadyProfiles",this.profile)},changeYear:function(t){var e=this,r=+t.target.value;"none"!=t.target.value?this.$store.dispatch("ReadyProfiles",this.profile.filter((function(t){return e.formatDate(t.dob.date)===r}))):this.$store.dispatch("ReadyProfiles",this.profile)},formationDateForSelect:function(t){var e=this,r=[],i=[];return t.forEach((function(t){r.push(e.formatDate(t.dob.date))})),i=r.filter((function(t,e){return r.indexOf(t)===e})),i.sort((function(t,e){return t-e}))},formatDate:function(t){var e=new Date(t),r=e.getFullYear();return r}}}),_=m,P=Object(d["a"])(_,h,v,!1,null,null,null),y=P.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"table"}},[r("table",[r("thead",[r("tr",[t._m(0),r("th",{class:[0!=t.sorteredName?"active":"","name"],on:{click:function(e){return t.sortName()}}},[r("div",{staticClass:"title-wrapper"},[r("span",[t._v("ФИО")]),0!=t.sorteredName?r("span",{class:[1===t.sorteredName?"asc":"",-1===t.sorteredName?"desc":"","order"]}):t._e()])]),r("th",{class:[0!=t.sorteredDate?"active":"","date"],on:{click:function(e){return t.sortDate()}}},[r("div",{staticClass:"title-wrapper"},[r("span",[t._v("Дата рождения")]),0!=t.sorteredDate?r("span",{class:[1===t.sorteredDate?"asc":"",-1===t.sorteredDate?"desc":"","order"]}):t._e()])]),t._m(1)])]),r("tbody",t._l(t.readyProfiles,(function(e,i){return r("tr",{key:i},[r("td",[r("img",{attrs:{src:e.picture.thumbnail,alt:"Изображения человека"}})]),r("td",[r("span",[t._v(t._s(e.name.first))]),t._v(" "),r("span",[t._v(t._s(e.name.last))])]),r("td",[r("span",[t._v(t._s(t.formatDate(e.dob.date)))])]),r("td",[r("div",{staticClass:"button",on:{click:function(r){return t.openProfile(e.picture.large,e.name.first,e.name.last,e.phone,e.email)}}},[r("span",[t._v("Посмотреть профиль")])])])])})),0)]),t.showDetail?r("Detail",{on:{closeDetail:function(e){return t.closeDetail(e)}}}):t._e()],1)},b=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("th",{staticClass:"picture"},[r("div",{staticClass:"title-wrapper"},[r("span",[t._v("Фото")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("th",{staticClass:"link"},[r("div",{staticClass:"title-wrapper"},[r("span",[t._v("Ссылка на профиль")])])])}],D=(r("26e9"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"detail"}},[r("div",{staticClass:"detail-wrapper"},[r("div",{staticClass:"detail-info"},[r("div",{staticClass:"detail-avatar",on:{click:function(e){return t.openPicture()}}},[r("a",{attrs:{href:t.detailProfile.picture,target:"_blank"}},[r("img",{attrs:{src:t.detailProfile.picture,alt:"avatar"}})])]),r("div",{staticClass:"detail-contact"},[r("div",{staticClass:"detail-field"},[r("span",{staticClass:"detail-field__label"},[t._v("ФИО: ")]),r("span",[t._v(t._s(t.detailProfile.name))])]),r("div",{staticClass:"detail-field"},[r("span",{staticClass:"detail-field__label"},[t._v("Телефон: ")]),r("span",[t._v(t._s(t.detailProfile.phone))])]),r("div",{staticClass:"detail-field"},[r("span",{staticClass:"detail-field__label"},[t._v("Email: ")]),r("span",[t._v(t._s(t.detailProfile.email))])])])]),r("div",{staticClass:"detail-actions"},[r("div",{staticClass:"button",on:{click:function(e){return t.closeDetail()}}},[r("span",[t._v("Закрыть профиль")])])])])])}),C=[],w={name:"cDetail",components:{},data:function(){return{}},props:{},computed:{detailProfile:function(){return this.$store.getters.getDetailProfile}},watch:{},created:function(){},mounted:function(){},methods:{closeDetail:function(){this.$emit("closeDetail",!1)}}},$=w,x=Object(d["a"])($,D,C,!1,null,null,null),R=x.exports,k={name:"cTable",components:{Detail:R},data:function(){return{showDetail:!1,sorteredName:0,sorteredDate:0}},props:{},computed:{readyProfiles:function(){return this.$store.getters.getReadyProfiles}},watch:{},created:function(){},mounted:function(){},methods:{closeDetail:function(t){this.showDetail=t},openProfile:function(t,e,r,i,a){this.$store.dispatch("DetailProfile",{picture:t,name:e+" "+r,phone:i,email:a}),this.showDetail=!0},sortName:function(){var t=this;0===this.sorteredName?this.$store.dispatch("ReadyProfiles",this.readyProfiles.sort((function(e,r){return t.compare(e,r,"name",1)}))):-1===this.sorteredName?(this.$store.dispatch("ReadyProfiles",this.readyProfiles.reverse()),this.sorteredName=1):1===this.sorteredName&&(this.$store.dispatch("ReadyProfiles",this.readyProfiles.reverse()),this.sorteredName=-1)},sortDate:function(){var t=this;0===this.sorteredDate?this.$store.dispatch("ReadyProfiles",this.readyProfiles.sort((function(e,r){return t.compare(e,r,"date",1)}))):-1===this.sorteredDate?(this.$store.dispatch("ReadyProfiles",this.readyProfiles.reverse()),this.sorteredDate=1):1===this.sorteredDate&&(this.$store.dispatch("ReadyProfiles",this.readyProfiles.reverse()),this.sorteredDate=-1)},compare:function(t,e,r,i){var a,s;switch(r){case"name":a=t.name.first.toUpperCase(),s=e.name.first.toUpperCase(),this.sorteredName=i,this.sorteredDate=0;break;case"date":a=t.dob.date.toUpperCase(),s=e.dob.date.toUpperCase(),this.sorteredName=0,this.sorteredDate=i;break}var n=0;return a>s?n=1:a<s&&(n=-1),n},formatDate:function(t){var e=new Date(t),r=e.getDate(),i=e.getMonth()+1,a=e.getFullYear();return r<10&&(r="0"+r),i<10&&(i="0"+i),r+"."+i+"."+a}}},O=k,j=Object(d["a"])(O,g,b,!1,null,null,null),N=j.exports,S={name:"cApp",components:{Loading:p,Filters:y,Table:N},data:function(){return{loading:!1}},props:{},computed:{profile:function(){return this.$store.getters.getProfiles},readyProfiles:function(){return this.$store.getters.getReadyProfiles}},watch:{},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=this.$store,t.next=3,regeneratorRuntime.awrap(this.getProfile());case 3:t.t1=t.sent,t.t0.dispatch.call(t.t0,"Profiles",t.t1),this.$store.dispatch("ReadyProfiles",this.profile);case 6:case"end":return t.stop()}}),null,this)},mounted:function(){},methods:{getProfile:function(){var t=this;return this.loading=!0,new Promise((function(e,r){o()({method:"get",url:"https://randomuser.me/api/?results=100&nat=ie&inc=name,dob,email,phone,picture"}).then((function(r){t.loading=!1,e(r.data.results)})).catch((function(t){console.log("Ошибка:"),console.log(t),r(t)}))}))}}},E=S,F=Object(d["a"])(E,a,s,!1,null,null,null),U=F.exports,T=r("2f62");i["a"].use(T["a"]);var M=new T["a"].Store({state:{profiles:[],readyProfiles:[],detailProfile:{}},getters:{getProfiles:function(t){return t.profiles},getReadyProfiles:function(t){return t.readyProfiles},getDetailProfile:function(t){return t.detailProfile}},mutations:{Profiles:function(t,e){t.profiles=e},ReadyProfiles:function(t,e){t.readyProfiles=e},DetailProfile:function(t,e){t.detailProfile=e}},actions:{Profiles:function(t,e){t.commit("Profiles",e)},ReadyProfiles:function(t,e){t.commit("ReadyProfiles",e)},DetailProfile:function(t,e){t.commit("DetailProfile",e)}}}),Y=r("b6d0");r("6aaa");i["a"].use(Y["a"]),i["a"].config.productionTip=!1,new i["a"]({store:M,render:function(t){return t(U)}}).$mount("#app")},"6aaa":function(t,e,r){}});
//# sourceMappingURL=app.fb7db606.js.map